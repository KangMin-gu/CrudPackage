<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ad">
	
	<select id="list" parameterType="hashMap" resultType="hashMap">
		SELECT * 
			FROM Crud_SaaS.dbo.TB980010
			WHERE ISDELETE = '0'
			AND SITEID = #{siteid}
			
			<if test="userName != null">
				AND USERNAME LIKE '%'+#{userName}+'%'
			</if>
			<if test="mobile != null">
				AND MOBILE LIKE '%'+#{mobile}+'%'
			</if>
	</select>
	
	<select id="totalRows" parameterType="hashMap" resultType="int">
	SELECT count(*)
			FROM Crud_SaaS.dbo.TB980010
			WHERE ISDELETE = '0'
			AND SITEID = #{siteid}
			<if test="userName != null">
				AND USERNAME LIKE '%'+#{userName}+'%'
			</if>
			<if test="mobile != null">
				AND MOBILE LIKE '%'+#{mobile}+'%'
			</if>
	</select>
</mapper>